function showNotification(t,e,a,o){var n="";switch(a){case"success":n="fas fa-check";break;case"danger":n="fas fa-ban";break;default:n="fas fa-exclamation"}$.notify({icon:n,message:o},{type:a,timer:2e3,placement:{from:t,align:e}})}function dateToString(t){var e,a=(e=t).getDate(),o=e.getMonth()+1,n=e.getFullYear();return a<10&&(a="0"+a),o<10&&(o="0"+o),e=a+"-"+o+"-"+n}function toDashboard(t){t&&(showNotification("top","right","success",t.message),setTimeout(function(){location.href="/dashboard"},100))}function kayitBasarili(t){t.message?showNotification("top","right","success",t.message):showNotification("top","right","danger","Bir hata oluştu!")}function preview(){window.open("/preview","_blank")}function formBasarili(t){showNotification("top","right","success",t.message),location.href="table"}function setChecked(t,e){t.status?(showNotification("top","right","success",t.message),$(e.t).find("input").prop("checked",!e.rc)):$(e.t).find("input").prop("checked",e.rc)}function basariliReload(t){showNotification("top","right","success",t.message),location.reload()}function Dynajax(t,e="",a,o=null,n=!0,i,s=!1,c=!0){if(!n||!controls()){var r,l={};""!=e&&(kdata={},$(`[ajax-key=${e}]:visible`).each(function(){var t=$(this).attr("type"),a=$(this).attr("name");if("radio"==t)kdata[a]=$(`[ajax-key=${e}][name=${a}]:checked`).attr("radio-value");else if("checkbox"==t){var o=[];$(`[ajax-key=${e}][name=${a}]:checked`).each(function(){o.push($(this).attr("value"))}),kdata[a]=o}else if("editor"==t)kdata[a]=$(this).summernote("code");else if("multipleSelect"==t)kdata[a]=JSON.stringify($(this).val());else if("file"==t){Object.keys(this.files).map(t=>{l.append("file",this.files[t],JSON.stringify({name:this.files[t].name,colName:a}))});var n=$(this).attr("default-value");n&&""!=n&&'""'!=n&&(kdata[a]=n)}else kdata[a]=$(this).val()}),l.kdata=kdata),i&&(l.ndata=i);var d={type:"POST",url:"/ajax/"+t,contentType:"application/json",dataType:"json",data:JSON.stringify(l),success:function(t){t?(t.status?a&&"function"==typeof a&&($(`[ajax-key=${e}]:visible`).val(""),a(t,o)):(showNotification("top","right","danger",t.message),null!=o&&a&&"function"==typeof a&&a(t,o)),r=t,maskClose()):showNotification("top","right","danger","birhatameydanageldi")},error:function(t,e){maskClose(),console.log(t),console.log(e)}};return c||(d.async=!1),s?Swal.fire({title:"Eminmisiniz?",text:"Bu işlemi geri alamazsınız!",type:"warning",showCancelButton:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1,confirmButtonText:"Onayla!",cancelButtonText:"Vazgeç!"}).then(t=>{t.value?(maskOpen(),$.ajax(d)):maskClose()}):(maskOpen(),$.ajax(d)),c?void 0:r}maskClose()}var selectedPassword;function enforcedControl(){var t=!1;return $("[enforced]:visible").each(function(){""!=$(this).val()&&null!=$(this).val()&&null!=$(this).val()||(t=!0,$(this).css("border-bottom","2px solid red"))}),t&&showNotification("top","right","danger","Zorunlu alanları doldurmanız gerekmektedir!"),t}function controls(){return enforcedControl()}function exit(){$.ajax({type:"GET",url:"/ajax/exit",dataType:"json",success:function(t){showNotification("top","right",t.color,t.message),t.status&&(location.href="/")},error:function(t,e){console.log(t),console.log(e)}})}function DynData(t={},e,a){var o={};o.kdata=JSON.stringify({where:t,hash:e}),$.ajax({type:"POST",url:"/ajax/dyndata",dataType:"json",data:o,success:function(t){t?t.status?a(t.data,t.colName):showNotification("top","right","danger",t.message):showNotification("top","right","danger","birhatameydanageldi")},error:function(t,e){console.log(t),console.log(e)}})}$(document).ready(function(){0!=$("[type='editor']").length&&$("[type='editor']").summernote(),0!=$("[type='multipleSelect']").length&&$("[type='multipleSelect']").multipleSelect(),0!=$(".datepicker").length&&$(".datepicker").each(function(){$(this).mask("00/00/0000");var t=$(this).val();$(this).datepicker(),$(this).datepicker("option","dateFormat","dd/mm/yy"),$(this).datepicker($.datepicker.regional.tr),$(this).datepicker("setDate",t)}),0!=$(".clockpicker").length&&$(".clockpicker").clockpicker({placement:"top"})}),$("form").on("keyup keypress",function(t){if(13===(t.keyCode||t.which))return t.preventDefault(),!1}),$(document).mouseup(function(){return $(selectedPassword).attr("type","password"),selectedPassword=null,!1}),$("body").delegate(".showpass","mousedown",function(){selectedPassword=$(this).parent().find("input[type='password']"),$(selectedPassword).attr("type","text")}),$("body").delegate("[enforced]","change keyup paste",function(){""!=$(this).val()&&null!=$(this).val()&&null!=$(this).val()&&$(this).css("border-bottom","")});var _connect={};function maskOpen(){$("#loader,#shadow-mask").css("display","block")}function maskClose(){$("#loader,#shadow-mask").css("display","none")}function readURL(t,e){if(t.files&&t.files[0]){var a=new FileReader;a.onload=function(t){$(e).attr("src",t.target.result)},a.readAsDataURL(t.files[0])}}$("body").delegate("[connect-on]","change",function(){var t=$(this).attr("connect-hash"),e=$(this).attr("connect-target")||$(this),a=$(this).attr("connect-whoami"),o=$(e).prop("tagName"),n=$(this).val();t&&e&&DynData({[a]:n},t,function(a,n){_connect[t]=a,"SELECT"==o&&($(e).html(""),$(e).append("<option value=''>seciniz</option>"),$(e).append(a.map(t=>`<option value="${t.id}">${t[n]}</option>`).join("<br>")),$(e).val(""))})}),$("[display-target]").on("change",function(){readURL(this,`[display-id=${$(this).attr("display-target")}]`)});